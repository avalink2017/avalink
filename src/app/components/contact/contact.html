<h2 class="section-title">Contáctanos</h2>
<div class="contact-container">
  <div class="contact-info">
    <h3>¿Listo para innovar?</h3>
    <p style="color: var(--text-secondary); margin-bottom: 2rem">
      Déjanos tus datos y nos pondremos en contacto contigo para ofrecerte una
      demostración de nuestros sistemas o cotizar tu desarrollo a la medida.
    </p>

    <div>
      <strong>Horario:</strong><br />
      Lunes a Viernes: 8:00 AM - 5:00 PM
    </div>
  </div>

  <form [formGroup]="fg" class="contact-form" (submit)="onSubmit()">
    <div class="form-group">
      <label for="nombre">Nombre Completo</label>
      <input
        type="text"
        id="nombre"
        required
        placeholder="Tu nombre"
        formControlName="name"
        [ngClass]="{ 'ng-invalid': true }"
      />
      @if (isInvalid("name")) {
      <span class="required-field">Campo requerido</span>
      }
    </div>
    <div class="form-group">
      <label for="email">Correo Electrónico</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        placeholder="tucorreo@empresa.com"
      />
    </div>
    <div class="form-group">
      <label for="servicio">Interés</label>
      <select id="servicio" formControlName="subject">
        <option value="Desarrollo Web">Desarrollo Web</option>
        <option value="Servicios SAP/ABAP">Servicios SAP/ABAP</option>
        <option value="Demo YURO (Facturación Electrónica)">
          Demo YURO (Facturación Electrónica)
        </option>
        <option value="Otro">Otro</option>
      </select>
    </div>
    <div class="form-group">
      <label for="mensaje">Mensaje</label>
      <textarea
        id="mensaje"
        rows="4"
        formControlName="message"
        placeholder="Cuéntanos sobre tu proyecto..."
      ></textarea>
    </div>

    <div>
      <app-turstile
        [siteKey]="siteKey!"
        (resolved)="onCaptchaResolved($event)"
        (expired)="onExpired()"
      />
      @if(hasExpired){
      <button type="button" class="reset-button" (click)="onReset()">
        Refrescar
      </button>
      }
    </div>

    <button
      type="submit"
      class="btn-primary"
      style="width: 100%; margin-top: 1rem"
      [disabled]="!fg.valid && turnstileToken !== null"
    >
      Enviar Mensaje
    </button>
  </form>
</div>
